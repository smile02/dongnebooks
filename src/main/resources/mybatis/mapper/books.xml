<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="books">
	<select id="booksList" resultType="books">
		select * from books order by regdate desc
	</select>
	
	<insert id="booksAdd" parameterType="books">
		insert into books
			values(seq_books_idx.nextval,
				   #{title},
				   'test',
				   #{comments},
				   sysdate,
				   #{price},
				   #{status},
				   #{fee},
				   #{photo},
				   #{d_type},
				   #{author},
				   #{b_category},
				   #{s_category},
				   '판매 중')
	</insert>
	
	<select id="booksView" parameterType="int" resultType="books">
		select * from books
			where idx = #{value}
	</select>
	
	<update id="booksMod" parameterType="books">
		update books set price = #{price},
						 status = #{status},
						 d_type = #{d_type},
						 fee = #{fee},
						 author = #{author},
						 b_category = #{b_category},
						 s_category = #{s_category},
						 deal = #{deal},
						 comments = #{comments}
			where idx = #{idx}
	</update>
</mapper>